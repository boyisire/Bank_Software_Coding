
#ifndef uchar
#define uchar unsigned char
#endif

/**** Character set ASCII to EBCDIC conversion table ( to AS/400) ****/
static unsigned short TABLE_ASCII2EBCDIC[] = 
/**  00  01  02  03  04  05  06  07  08  09  0A  0B  0C  0D  0E  0F  **/
   { 0x0001, 0x0203, 0x372D, 0x2E2F, 0x1605, 0x250B, 0x0C0D, 0x0E0F,	/* 00 */
     0x1011, 0x1213, 0x3C3D, 0x3226, 0x1819, 0x3F27, 0x1C1D, 0x1E1F,	/* 01 */
     0x405A, 0x7F7B, 0x5B6C, 0x507D, 0x4D5D, 0x5C4E, 0x6B60, 0x4B61,	/* 02 */
     0xF0F1, 0xF2F3, 0xF4F5, 0xF6F7, 0xF8F9, 0x7A5E, 0x4C7E, 0x6E6F,	/* 03 */
     0x7CC1, 0xC2C3, 0xC4C5, 0xC6C7, 0xC8C9, 0xD1D2, 0xD3D4, 0xD5D6,	/* 04 */
     0xD7D8, 0xD9E2, 0xE3E4, 0xE5E6, 0xE7E8, 0xE94A, 0xE04F, 0x5F6D,	/* 05 */
     0x7981, 0x8283, 0x8485, 0x8687, 0x8889, 0x9192, 0x9394, 0x9596,	/* 06 */
     0x9798, 0x99A2, 0xA3A4, 0xA5A6, 0xA7A8, 0xA9C0, 0x6AD0, 0xA107,	/* 07 */
     0x2021, 0x2223, 0x2415, 0x0617, 0x2829, 0x2A2B, 0x2C09, 0x0A1B,	/* 08 */
     0x3031, 0x1A33, 0x3435, 0x3608, 0x3839, 0x3A3B, 0x0414, 0x3EE1,	/* 09 */
     0x4142, 0x4344, 0x4546, 0x4748, 0x4951, 0x5253, 0x5455, 0x5657,	/* 0A */
     0x5859, 0x6263, 0x6465, 0x6667, 0x6869, 0x7071, 0x7273, 0x7475,	/* 0B */
     0x7677, 0x7880, 0x8A8B, 0x8C8D, 0x8E8F, 0x909A, 0x9B9C, 0x9D9E,	/* 0C */
     0x9FA0, 0xAAAB, 0xACAD, 0xAEAF, 0xB0B1, 0xB2B3, 0xB4B5, 0xB6B7,	/* 0D */
     0xB8B9, 0xBABB, 0xBCBD, 0xBEBF, 0xCACB, 0xCCCD, 0xCECF, 0xDADB,	/* 0E */
     0xDCDD, 0xDEDF, 0xEAEB, 0xECED, 0xEEEF, 0xFAFB, 0xFCFD, 0xFEFF	/* 0F */
     };
	     
/**** Character set EBCDIC to ASCII conversion table ( from AS/400) ****/
static unsigned short TABLE_EBCDIC2ASCII[] = 
/**  00  01  02  03  04  05  06  07  08  09  0A  0B  0C  0D  0E  0F  **/
   { 0x0001, 0x0203, 0x9C09, 0x867F, 0x978D, 0x8E0B, 0x0C0D, 0x0E0F,	/* 00 */
     0x1011, 0x1213, 0x9D85, 0x0887, 0x1819, 0x928F, 0x1C1D, 0x1E1F,	/* 01 */
     0x8081, 0x8283, 0x840A, 0x171B, 0x8889, 0x8A8B, 0x8C05, 0x0607,	/* 02 */
     0x9091, 0x1693, 0x9495, 0x9604, 0x9899, 0x9A9B, 0x1415, 0x9E1A,	/* 03 */
     0x20A0, 0xA1A2, 0xA3A4, 0xA5A6, 0xA7A8, 0x5B2E, 0x3C28, 0x2B5D,	/* 04 */
     0x26A9, 0xAAAB, 0xACAD, 0xAEAF, 0xB0B1, 0x2124, 0x2A29, 0x3B5E,	/* 05 */
     0x2D2F, 0xB2B3, 0xB4B5, 0xB6B7, 0xB8B9, 0x7C2C, 0x255F, 0x3E3F,	/* 06 */
     0xBABB, 0xBCBD, 0xBEBF, 0xC0C1, 0xC260, 0x3A23, 0x4027, 0x3D22,	/* 07 */
     0xC361, 0x6263, 0x6465, 0x6667, 0x6869, 0xC4C5, 0xC6C7, 0xC8C9,	/* 08 */
     0xCA6A, 0x6B6C, 0x6D6E, 0x6F70, 0x7172, 0xCBCC, 0xCDCE, 0xCFD0,	/* 09 */
     0xD17E, 0x7374, 0x7576, 0x7778, 0x797A, 0xD2D3, 0xD4D5, 0xD6D7,	/* 0A */
     0xD8D9, 0xDADB, 0xDCDD, 0xDEDF, 0xE0E1, 0xE2E3, 0xE4E5, 0xE6E7,	/* 0B */
     0x7B41, 0x4243, 0x4445, 0x4647, 0x4849, 0xE8E9, 0xEAEB, 0xECED,	/* 0C */
     0x7D4A, 0x4B4C, 0x4D4E, 0x4F50, 0x5152, 0xEEEF, 0xF0F1, 0xF2F3,	/* 0D */
     0x5C9F, 0x5354, 0x5556, 0x5758, 0x595A, 0xF4F5, 0xF6F7, 0xF8F9,	/* 0E */
     0x3031, 0x3233, 0x3435, 0x3637, 0x3839, 0xFAFB, 0xFCFD, 0xFEFF	/* 0F */
     };


/***  Definition of Table for EBCDIC -> GB  ***/


#ifndef		EXCHANGE_TABLES_DEFINED 
#define		EXCHANGE_TABLES_DEFINED 
 
#define	CBEGIN		0x0e 
#define	CEND		0x0f 
#define	CENTER		0x0a 
 
/* tables for 5250 to GB */ 
uchar TableEtoGB42[64+1]=
{ 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x8a, 0x4d, 0x5b, 0x47, 0x4a, 0x9c, 
   0x45, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x40, 0x43, 0x49, 0x48, 0x5a, 0x50, 
   0x4c, 0x4e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x51, 0x4b, 0x44, 0x7e, 0x5d, 0x5e, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x80, 0x59, 0x42, 0x5f, 0x52, 0x5c, 0x41 
}; 
 
uchar TableEtoGB43[160+1]= 
{ 
   0x00, 0x42, 0x57, 0x58, 0x41, 0x43, 0x92, 0x40, 
   0x42, 0x44, 0x89, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x46, 0x48, 0x83, 0x85, 0x87, 0x62, 0x8e, 
   0x60, 0x95, 0x96, 0x61, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x41, 0x43, 0x45, 0x47, 0x49, 0x4a, 0x4c, 
   0x4e, 0x50, 0x52, 0x00, 0x54, 0x56, 0x58, 0x5a, 
   0x5c, 0x5e, 0x60, 0x63, 0x65, 0x67, 0x69, 0x6a, 
   0x6b, 0x6c, 0x6d, 0x00, 0x00, 0x6e, 0x71, 0x74, 
   0x00, 0x4a, 0x77, 0x7a, 0x7d, 0x7e, 0x80, 0x81, 
   0x82, 0x84, 0x86, 0x00, 0x88, 0x89, 0x8a, 0x8b, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x8c, 0x8d, 0x8f, 0x93, 0x62, 0x63, 
   0x4b, 0x4d, 0x4f, 0x51, 0x53, 0x55, 0x57, 0x59, 
   0x5b, 0x5d, 0x5f, 0x61, 0x64, 0x66, 0x68, 0x6f, 
   0x72, 0x75, 0x78, 0x7b, 0x94, 0x70, 0x73, 0x76, 
   0x79, 0x7c, 0x90, 0x91, 0x64, 0x65, 0x00, 0x00 
}; 
    
uchar TableEtoGB44[184+1]= 
{ 
   0x00, 0x00, 0x59, 0x5a, 0x7a, 0x7c, 0xf0, 0x9f, 
   0xa1, 0xa3, 0x49, 0x5f, 0x78, 0x7d, 0x86, 0x00, 
   0x46, 0xa5, 0xa7, 0xe1, 0xe3, 0xe5, 0xc1, 0xec, 
   0x00, 0x00, 0x70, 0x47, 0x71, 0x48, 0x72, 0x73, 
   0x46, 0x4d, 0x4f, 0x51, 0x53, 0x55, 0x5d, 0x7b, 
   0x80, 0x81, 0x8c, 0x99, 0x74, 0x75, 0x8d, 0x76, 
   0x7d, 0x4e, 0x50, 0x52, 0x54, 0x56, 0x5e, 0x7c, 
   0x7e, 0x82, 0x60, 0x61, 0x4b, 0x9e, 0x77, 0x4c, 
   0x00, 0xa0, 0xa2, 0xa4, 0xa6, 0xa8, 0xa9, 0xab, 
   0xad, 0xaf, 0xb1, 0x00, 0xb3, 0xb5, 0xb7, 0xb9, 
   0xbb, 0xbd, 0xbf, 0xc2, 0xc4, 0xc6, 0xc8, 0xc9, 
   0xca, 0xcb, 0xcc, 0x00, 0x00, 0xcd, 0xd0, 0xd3, 
   0x00, 0x00, 0xd6, 0xd9, 0xdc, 0xdd, 0xde, 0xdf, 
   0xe0, 0xe2, 0xe4, 0x00, 0xe6, 0xe7, 0xe8, 0xe9, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0xea, 0xeb, 0xed, 0xf1, 0x00, 0x00, 
   0xaa, 0xac, 0xae, 0xb0, 0xb2, 0xb4, 0xb6, 0xb8, 
   0xba, 0xbc, 0xbe, 0xc0, 0xc3, 0xc5, 0xc7, 0xce, 
   0xd1, 0xd4, 0xd7, 0xda, 0x00, 0xcf, 0xd2, 0xd5, 
   0xd8, 0xdb, 0xee, 0xef, 0x78, 0x79, 0x00, 0x00, 
   0x90, 0x91, 0x97, 0x98, 0x92, 0x8e, 0x8f, 0x93, 
   0x94, 0x95, 0x96, 0x7a, 0x7b, 0x83, 0x84, 0x85, 
   0x9a, 0x9b, 0x9c, 0x9d, 0x00, 0x00, 0x00, 0x00 
};

/*
#else 
extern uchar TableEtoGB42[64+1]; 
extern uchar TableEtoGB43[160+1]; 
extern uchar TableEtoGB44[184+1]; 
*/
#endif



/***  Definition of Table for GB -> EBCDIC  ***/

#ifndef		EXCHANGE_TABLES_DEFINED 
#define		EXCHANGE_TABLES_DEFINED 
 
#define	CBEGIN		0x0e 
#define	CEND		0x0f 
#define	CENTER		0x0a 
 
/* table for GB to 5250 */ 
uchar TableGBtoE81[200] = 
{ 
   0x40, 0x44, 0x41, 0x45, 0x45, 0x46, 0x60, 0x5b, 
   0x5d, 0x4a, 0xa1, 0x7c, 0x7f, 0x61, 0x71, 0x62, 
   0x72, 0x63, 0x73, 0x64, 0x74, 0x65, 0x75, 0x42, 
   0x43, 0x42, 0x43, 0x5b, 0x5c, 0x66, 0x76, 0x4b, 
   0x7a, 0x7b, 0x62, 0x63, 0x64, 0x65, 0x66, 0x67, 
   0x68, 0x69, 0x6a, 0x6b, 0x6c, 0x6d, 0x6e, 0x6f, 
   0x70, 0x71, 0x72, 0x73, 0x74, 0x75, 0x76, 0x77, 
   0x4c, 0x79, 0x7a, 0x67, 0x77, 0x4d, 0x78, 0x00, 
   0x68, 0x69, 0x79, 0xed, 0xee, 0xef, 0x4e, 0xe0, 
   0x88, 0x4a, 0x4a, 0x8b, 0x6a, 0x6e, 0xe5, 0xe6, 
   0xe0, 0xe1, 0xe4, 0xe7, 0xe8, 0xe9, 0xea, 0xe2, 
   0xe3, 0x6b, 0xf0, 0xf1, 0xf2, 0xf3, 0x7d, 0x00 
}; 
 
uchar TableGBtoE82[200] = 
{ 
   0x5a, 0x7f, 0x7b, 0x5b, 0x6c, 0x50, 0x50, 0x4d, 
   0x5d, 0x5c, 0x4e, 0x6b, 0x60, 0x4b, 0x61, 0xf0, 
   0xf1, 0xf2, 0xf3, 0xf4, 0xf5, 0xf6, 0xf7, 0xf8, 
   0xf9, 0x7a, 0x5e, 0x4c, 0x7e, 0x6e, 0x6f, 0x7c, 
   0xc1, 0xc2, 0xc3, 0xc4, 0xc5, 0xc6, 0xc7, 0xc8, 
   0xc9, 0xd1, 0xd2, 0xd3, 0xd4, 0xd5, 0xd6, 0xd7, 
   0xd8, 0xd9, 0xe2, 0xe3, 0xe4, 0xe5, 0xe6, 0xe7, 
   0xe8, 0xe9, 0x44, 0xe0, 0x45, 0x70, 0x6d, 0x00, 
   0x79, 0x81, 0x82, 0x83, 0x84, 0x85, 0x86, 0x87, 
   0x88, 0x89, 0x91, 0x92, 0x93, 0x94, 0x95, 0x96, 
   0x97, 0x98, 0x99, 0xa2, 0xa3, 0xa4, 0xa5, 0xa6, 
   0xa7, 0xa8, 0xa9, 0xc0, 0x4f, 0xd0, 0xa1, 0x47, 
   0x81, 0x48, 0x82, 0x49, 0x83, 0x51, 0x84, 0x52, 
   0x85, 0x86, 0xc0, 0x87, 0xc1, 0x88, 0xc2, 0x89, 
   0xc3, 0x8a, 0xc4, 0x8c, 0xc5, 0x8d, 0xc6, 0x8e, 
   0xc7, 0x8f, 0xc8, 0x90, 0xc9, 0x91, 0xca, 0x92, 
   0xcb, 0x56, 0x93, 0xcc, 0x94, 0xcd, 0x95, 0xce, 
   0x96, 0x97, 0x98, 0x99, 0x9a, 0x9d, 0xcf, 0xd5, 
   0x9e, 0xd0, 0xd6, 0x9f, 0xd1, 0xd7, 0xa2, 0xd2, 
   0xd8, 0xa3, 0xd3, 0xd9, 0xa4, 0xa5, 0xa6, 0xa7, 
   0xa8, 0x53, 0xa9, 0x54, 0xaa, 0x55, 0xac, 0xad, 
   0xae, 0xaf, 0xba, 0xbb, 0x57, 0xbc, 0xda, 0xdb, 
   0x46, 0xbd, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
}; 
 
uchar TableGBtoE83[200] =  
{ 
   0x47, 0x81, 0x48, 0x82, 0x49, 0x83, 0x51, 0x84, 
   0x52, 0x85, 0x86, 0xc0, 0x87, 0xc1, 0x88, 0xc2, 
   0x89, 0xc3, 0x8a, 0xc4, 0x8c, 0xc5, 0x8d, 0xc6, 
   0x8e, 0xc7, 0x8f, 0xc8, 0x90, 0xc9, 0x91, 0xca, 
   0x92, 0xcb, 0x56, 0x93, 0xcc, 0x94, 0xcd, 0x95, 
   0xce, 0x96, 0x97, 0x98, 0x99, 0x9a, 0x9d, 0xcf, 
   0xd5, 0x9e, 0xd0, 0xd6, 0x9f, 0xd1, 0xd7, 0xa2, 
   0xd2, 0xd8, 0xa3, 0xd3, 0xd9, 0xa4, 0xa5, 0xa6, 
   0xa6, 0xa7, 0xa8, 0x53, 0xa9, 0x54, 0xaa, 0x55, 
   0xac, 0xad, 0xae, 0xaf, 0xba, 0xbb, 0x57, 0xbc, 
   0xda, 0xdb, 0x46, 0xbd, 0xd4, 0x59, 0x5a, 0x00, 
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x61 
}; 
 
#else 
uchar TableGBtoE81[200]; 
uchar TableGBtoE82[200]; 
uchar TableGBtoE83[200]; 
#endif 

typedef struct {
  unsigned char *Fmt8583;
  unsigned char *FmtAs400;
}CURCON;
  
#define CURRENCY_TYPE_NUM  2

int   AtoE( );
int   EtoA( );
/*
uchar ASCII2EBCDIC(uchar);
uchar EBCDIC2ASCII(uchar);
*/
uchar *_AtoEA();
uchar *_EtoAA();
uchar *_AtoEP();
uchar *_EtoAP();

int _NAtoEP();

void _NEtoAP();
uchar _swASCII2EBCDIC(uchar achar);
uchar _swEBCDIC2ASCII(uchar echar);
int _swAtoE(uchar *d,uchar *s,unsigned int len);
int _swEtoA(uchar *d,uchar *s,unsigned int len);

